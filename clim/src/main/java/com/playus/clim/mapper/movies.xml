<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="movies">
	
	<select id="searchMovieListForCliming" resultType="Movie" parameterType="String">
		SELECT no, title, runtime, poster
		FROM movies
		WHERE title = #{title}
	</select>
	
	<select id="movieSelectOne" parameterType="int" resultType="Movie">
		SELECT no, title, openDate, runtime, contents, src, 
			cookieTime, movie_rating movieRating, regdate, title_eng titleEng, 
			poster, rep_genre repGenre, ending_credit_time endingCreditTime, climed, (SELECT COUNT(*)
																						FROM reviews
																						WHERE movie_no = #{no})
		FROM movies 
		WHERE no = #{no}
	</select>
	
</mapper>