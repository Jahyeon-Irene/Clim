<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="comments">
	
	<select id="myWriteCommentsList" resultType="Comment" parameterType="pageVO">
		SELECT no, memberNo, contents, regdate, boardNo, r 
		FROM(SELECT no, memberNo, contents, regdate, boardNo, rownum r 
			 FROM(SELECT no, member_no memberNo, contents, regdate, board_no boardNo
				  FROM comments
				  WHERE member_no = #{memberNo}
				  ORDER BY regdate))
		WHERE r BETWEEN #{start} AND #{end}
	</select>
	
	<select id="myWriteCommentsTotal" resultType="int" parameterType="int">
		SELECT count(*)
		FROM comments
		WHERE member_no = #{memberNo}
	</select>
	
</mapper>